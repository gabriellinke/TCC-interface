<div id="container">
  <div *ngIf="state==2">
    <img src="assets/img/load.gif" alt="Loading">
  </div>
  <div *ngIf="state!=2">
    <app-camera
      (imageCaptured)="onImageCaptured($event)"
      [showSquare]="state==3"
    />
  </div>
  <app-overlay [isVisible]="state==4 || state==5 || state==7 || state==8">
  <div *ngIf="state==4 && webcamImage" class="overlay-content">
    <img [src]="webcamImage.imageAsDataUrl" alt="Foto da placa de patrimônio" class="image">
    <div class="buttons-center">
      <button class="primary button-margin" type="button" (click)="createAsset();">Confirmar</button>
      <button class="secondary" type="button" (click)="clearImage();">Tirar nova foto</button>
    </div>
  </div>
  <div *ngIf="state==5" class="overlay-content overlay-padding-top">
    <div>
      <p class="overlay-text" style="padding-bottom: 8px;">Número de patrimônio</p>
      <input class="styled-input" type="string" placeholder="Número de patrimônio" [(ngModel)]="temporaryAssetNumber">
    </div>
    <div class="buttons-bottom">
      <button class="primary button-margin" type="button" (click)="confirmAsset();">Confirmar</button>
      <button class="secondary" type="button" (click)="deleteAsset();">Cancelar</button>
    </div>
  </div>
  <div *ngIf="state==7 && webcamImage" class="overlay-content">
    <img [src]="webcamImage.imageAsDataUrl" alt="Imagem do bem" class="image">
    <div class="buttons-center">
      <button class="primary button-margin" type="button" (click)="addImageToAsset();">Confirmar foto</button>
      <button class="secondary" type="button" (click)="clearImage();">Voltar</button>
    </div>
  </div>
  <div *ngIf="state==8" class="overlay-content">
    <p>Total de {{getImageCount()}} fotos</p>
    <div class="buttons-bottom">
      <button *ngIf="isAssetComplete()" class="primary button-margin" type="button" (click)="confirmFile();">Gerar arquivo</button>
      <button class="secondary button-margin" type="button" (click)="clearImage(2);">Adicionar nova foto</button>
      <button *ngIf="isAssetComplete()" class="secondary" type="button" (click)="resetVariablesForNewAsset();">Adicionar novo bem</button>
    </div>
  </div>
  </app-overlay>
</div>
