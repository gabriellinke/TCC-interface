import './polyfills.server.mjs';
import{$ as ut,A as F,Aa as At,B as l,Ba as wt,C as A,Ca as St,D as Ne,Da as It,E as H,Ea as Vt,F as w,Fa as xt,G as d,Ga as Dt,H as Te,I as se,J as s,Ja as Mt,K as a,L as g,M as y,N as u,Na as Y,O as m,Oa as Ft,P as st,Q as at,Qa as D,R as ke,Ra as Ot,S as Pe,Sa as Nt,T as Re,U as Ue,V as c,W as I,X as G,Y as lt,Z as ct,_ as dt,a as ne,aa as _e,b as Je,ba as b,c as Ke,ca as ht,d as Ze,da as q,e as j,ea as mt,f as Xe,fa as pt,g as et,h as tt,ha as ft,i as Fe,j as it,k as fe,l as ge,la as gt,m as R,n as re,na as _t,o as z,p as nt,pa as vt,q as _,qa as yt,r as C,ra as Be,s as oe,t as U,ta as $,u as rt,ua as Ct,v as p,va as Q,w as f,wa as x,x as ot,xa as bt,y as Oe,ya as Et,z as M,za as S}from"./chunk-WZVDOJH3.mjs";import{a as O,b as T,h as Ye}from"./chunk-NDYDZJSS.mjs";var Tt=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=C({type:e,selectors:[["app-root"]],standalone:!0,features:[b],decls:2,vars:0,template:function(r,o){r&1&&(s(0,"main"),g(1,"router-outlet"),a())},dependencies:[Nt,Ft],styles:["main[_ngcontent-%COMP%]{margin:0;padding:0;background:var(--background-color);color:#000}"]});let n=e;return n})();var Ht=(()=>{let e=class e{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}};e.\u0275fac=function(r){return new(r||e)(A(Ne),A(Oe))},e.\u0275dir=U({type:e});let n=e;return n})(),Fi=(()=>{let e=class e extends Ht{};e.\u0275fac=(()=>{let t;return function(o){return(t||(t=ot(e)))(o||e)}})(),e.\u0275dir=U({type:e,features:[H]});let n=e;return n})(),Lt=new z("");var Oi={provide:Lt,useExisting:ge(()=>Se),multi:!0};function Ni(){let n=Be()?Be().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var Ti=new z(""),Se=(()=>{let e=class e extends Ht{constructor(t,r,o){super(t,r),this._compositionMode=o,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!Ni())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}};e.\u0275fac=function(r){return new(r||e)(A(Ne),A(Oe),A(Ti,8))},e.\u0275dir=U({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,o){r&1&&u("input",function(v){return o._handleInput(v.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(v){return o._compositionEnd(v.target.value)})},features:[_e([Oi]),H]});let n=e;return n})();var Wt=new z(""),zt=new z("");function qt(n){return n!=null}function $t(n){return ft(n)?Ke(n):n}function Qt(n){let e={};return n.forEach(i=>{e=i!=null?O(O({},e),i):e}),Object.keys(e).length===0?null:e}function Yt(n,e){return e.map(i=>i(n))}function ki(n){return!n.validate}function Jt(n){return n.map(e=>ki(e)?e:i=>e.validate(i))}function Pi(n){if(!n)return null;let e=n.filter(qt);return e.length==0?null:function(i){return Qt(Yt(i,e))}}function je(n){return n!=null?Pi(Jt(n)):null}function Ri(n){if(!n)return null;let e=n.filter(qt);return e.length==0?null:function(i){let t=Yt(i,e).map($t);return Xe(t).pipe(j(Qt))}}function He(n){return n!=null?Ri(Jt(n)):null}function kt(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function Ui(n){return n._rawValidators}function Bi(n){return n._rawAsyncValidators}function Ge(n){return n?Array.isArray(n)?n:[n]:[]}function ye(n,e){return Array.isArray(n)?n.includes(e):n===e}function Pt(n,e){let i=Ge(e);return Ge(n).forEach(r=>{ye(i,r)||i.push(r)}),i}function Rt(n,e){return Ge(e).filter(i=>!ye(n,i))}var Ce=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=je(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=He(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,i){return this.control?this.control.hasError(e,i):!1}getError(e,i){return this.control?this.control.getError(e,i):null}},Z=class extends Ce{get formDirective(){return null}get path(){return null}},he=class extends Ce{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},be=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},Gi={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},rr=T(O({},Gi),{"[class.ng-submitted]":"isSubmitted"}),Kt=(()=>{let e=class e extends be{constructor(t){super(t)}};e.\u0275fac=function(r){return new(r||e)(A(he,2))},e.\u0275dir=U({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,o){r&2&&Te("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[H]});let n=e;return n})(),Zt=(()=>{let e=class e extends be{constructor(t){super(t)}};e.\u0275fac=function(r){return new(r||e)(A(Z,10))},e.\u0275dir=U({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,o){r&2&&Te("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},features:[H]});let n=e;return n})();var ae="VALID",ve="INVALID",J="PENDING",le="DISABLED",X=class{},Ee=class extends X{constructor(e,i){super(),this.value=e,this.source=i}},de=class extends X{constructor(e,i){super(),this.pristine=e,this.source=i}},ue=class extends X{constructor(e,i){super(),this.touched=e,this.source=i}},K=class extends X{constructor(e,i){super(),this.status=e,this.source=i}};function Xt(n){return(Ie(n)?n.validators:n)||null}function ji(n){return Array.isArray(n)?je(n):n||null}function ei(n,e){return(Ie(e)?e.asyncValidators:n)||null}function Hi(n){return Array.isArray(n)?He(n):n||null}function Ie(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function Li(n,e,i){let t=n.controls;if(!(e?Object.keys(t):t).length)throw new fe(1e3,"");if(!t[i])throw new fe(1001,"")}function Wi(n,e,i){n._forEachChild((t,r)=>{if(i[r]===void 0)throw new fe(1002,"")})}var Ae=class{constructor(e,i){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._events=new ne,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(i)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===ae}get invalid(){return this.status===ve}get pending(){return this.status==J}get disabled(){return this.status===le}get enabled(){return this.status!==le}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(Pt(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Pt(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Rt(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Rt(e,this._rawAsyncValidators))}hasValidator(e){return ye(this._rawValidators,e)}hasAsyncValidator(e){return ye(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let i=this.touched===!1;this.touched=!0;let t=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(T(O({},e),{sourceControl:t})),i&&e.emitEvent!==!1&&this._events.next(new ue(!0,t))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(i=>i.markAllAsTouched(e))}markAsUntouched(e={}){let i=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let t=e.sourceControl??this;this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:t})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t),i&&e.emitEvent!==!1&&this._events.next(new ue(!1,t))}markAsDirty(e={}){let i=this.pristine===!0;this.pristine=!1;let t=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(T(O({},e),{sourceControl:t})),i&&e.emitEvent!==!1&&this._events.next(new de(!1,t))}markAsPristine(e={}){let i=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let t=e.sourceControl??this;this._forEachChild(r=>{r.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&e.emitEvent!==!1&&this._events.next(new de(!0,t))}markAsPending(e={}){this.status=J;let i=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new K(this.status,i)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(T(O({},e),{sourceControl:i}))}disable(e={}){let i=this._parentMarkedDirty(e.onlySelf);this.status=le,this.errors=null,this._forEachChild(r=>{r.disable(T(O({},e),{onlySelf:!0}))}),this._updateValue();let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Ee(this.value,t)),this._events.next(new K(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(T(O({},e),{skipPristineCheck:i}),this),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){let i=this._parentMarkedDirty(e.onlySelf);this.status=ae,this._forEachChild(t=>{t.enable(T(O({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(T(O({},e),{skipPristineCheck:i}),this),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(e,i){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},i),this._parent._updateTouched({},i))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let t=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ae||this.status===J)&&this._runAsyncValidator(t,e.emitEvent)}let i=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Ee(this.value,i)),this._events.next(new K(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(T(O({},e),{sourceControl:i}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(i=>i._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?le:ae}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,i){if(this.asyncValidator){this.status=J,this._hasOwnPendingAsyncValidator={emitEvent:i!==!1};let t=$t(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(r,{emitEvent:i,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,i={}){this.errors=e,this._updateControlsErrors(i.emitEvent!==!1,this,i.shouldHaveEmitted)}get(e){let i=e;return i==null||(Array.isArray(i)||(i=i.split(".")),i.length===0)?null:i.reduce((t,r)=>t&&t._find(r),this)}getError(e,i){let t=i?this.get(i):this;return t&&t.errors?t.errors[e]:null}hasError(e,i){return!!this.getError(e,i)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,i,t){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||t)&&this._events.next(new K(this.status,i)),this._parent&&this._parent._updateControlsErrors(e,i,t)}_initObservables(){this.valueChanges=new M,this.statusChanges=new M}_calculateStatus(){return this._allControlsDisabled()?le:this.errors?ve:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(J)?J:this._anyControlsHaveStatus(ve)?ve:ae}_anyControlsHaveStatus(e){return this._anyControls(i=>i.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,i){let t=!this._anyControlsDirty(),r=this.pristine!==t;this.pristine=t,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,i),r&&this._events.next(new de(this.pristine,i))}_updateTouched(e={},i){this.touched=this._anyControlsTouched(),this._events.next(new ue(this.touched,i)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,i)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Ie(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let i=this._parent&&this._parent.dirty;return!e&&!!i&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=ji(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=Hi(this._rawAsyncValidators)}},we=class extends Ae{constructor(e,i,t){super(Xt(i),ei(t,i)),this.controls=e,this._initObservables(),this._setUpdateStrategy(i),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,i){return this.controls[e]?this.controls[e]:(this.controls[e]=i,i.setParent(this),i._registerOnCollectionChange(this._onCollectionChange),i)}addControl(e,i,t={}){this.registerControl(e,i),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}removeControl(e,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}setControl(e,i,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],i&&this.registerControl(e,i),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,i={}){Wi(this,!0,e),Object.keys(e).forEach(t=>{Li(this,!0,t),this.controls[t].setValue(e[t],{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i)}patchValue(e,i={}){e!=null&&(Object.keys(e).forEach(t=>{let r=this.controls[t];r&&r.patchValue(e[t],{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i))}reset(e={},i={}){this._forEachChild((t,r)=>{t.reset(e?e[r]:null,{onlySelf:!0,emitEvent:i.emitEvent})}),this._updatePristine(i,this),this._updateTouched(i,this),this.updateValueAndValidity(i)}getRawValue(){return this._reduceChildren({},(e,i,t)=>(e[t]=i.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(i,t)=>t._syncPendingControls()?!0:i);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(i=>{let t=this.controls[i];t&&e(t,i)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[i,t]of Object.entries(this.controls))if(this.contains(i)&&e(t))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(i,t,r)=>((t.enabled||this.disabled)&&(i[r]=t.value),i))}_reduceChildren(e,i){let t=e;return this._forEachChild((r,o)=>{t=i(t,r,o)}),t}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Le=new z("CallSetDisabledState",{providedIn:"root",factory:()=>We}),We="always";function zi(n,e){return[...e.path,n]}function ti(n,e,i=We){ii(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||i==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),$i(n,e),Yi(n,e),Qi(n,e),qi(n,e)}function Ut(n,e){n.forEach(i=>{i.registerOnValidatorChange&&i.registerOnValidatorChange(e)})}function qi(n,e){if(e.valueAccessor.setDisabledState){let i=t=>{e.valueAccessor.setDisabledState(t)};n.registerOnDisabledChange(i),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(i)})}}function ii(n,e){let i=Ui(n);e.validator!==null?n.setValidators(kt(i,e.validator)):typeof i=="function"&&n.setValidators([i]);let t=Bi(n);e.asyncValidator!==null?n.setAsyncValidators(kt(t,e.asyncValidator)):typeof t=="function"&&n.setAsyncValidators([t]);let r=()=>n.updateValueAndValidity();Ut(e._rawValidators,r),Ut(e._rawAsyncValidators,r)}function $i(n,e){e.valueAccessor.registerOnChange(i=>{n._pendingValue=i,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&ni(n,e)})}function Qi(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&ni(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function ni(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Yi(n,e){let i=(t,r)=>{e.valueAccessor.writeValue(t),r&&e.viewToModelUpdate(t)};n.registerOnChange(i),e._registerOnDestroy(()=>{n._unregisterOnChange(i)})}function Ji(n,e){n==null,ii(n,e)}function Ki(n,e){if(!n.hasOwnProperty("model"))return!1;let i=n.model;return i.isFirstChange()?!0:!Object.is(e,i.currentValue)}function Zi(n){return Object.getPrototypeOf(n.constructor)===Fi}function Xi(n,e){n._syncPendingControls(),e.forEach(i=>{let t=i.control;t.updateOn==="submit"&&t._pendingChange&&(i.viewToModelUpdate(t._pendingValue),t._pendingChange=!1)})}function en(n,e){if(!e)return null;Array.isArray(e);let i,t,r;return e.forEach(o=>{o.constructor===Se?i=o:Zi(o)?t=o:r=o}),r||t||i||null}var tn={provide:Z,useExisting:ge(()=>ze)},ce=Promise.resolve(),ze=(()=>{let e=class e extends Z{constructor(t,r,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._directives=new Set,this.ngSubmit=new M,this.form=new we({},je(t),He(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){ce.then(()=>{let r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),ti(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){ce.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){ce.then(()=>{let r=this._findContainer(t.path),o=new we({});Ji(o,t),r.registerControl(t.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){ce.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){ce.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,Xi(this.form,this._directives),this.ngSubmit.emit(t),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}};e.\u0275fac=function(r){return new(r||e)(A(Wt,10),A(zt,10),A(Le,8))},e.\u0275dir=U({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,o){r&1&&u("submit",function(v){return o.onSubmit(v)})("reset",function(){return o.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[_e([tn]),H]});let n=e;return n})();function Bt(n,e){let i=n.indexOf(e);i>-1&&n.splice(i,1)}function Gt(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var nn=class extends Ae{constructor(e=null,i,t){super(Xt(i),ei(t,i)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(i),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Ie(i)&&(i.nonNullable||i.initialValueIsDefault)&&(Gt(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,i={}){this.value=this._pendingValue=e,this._onChange.length&&i.emitModelToViewChange!==!1&&this._onChange.forEach(t=>t(this.value,i.emitViewToModelChange!==!1)),this.updateValueAndValidity(i)}patchValue(e,i={}){this.setValue(e,i)}reset(e=this.defaultValue,i={}){this._applyFormState(e),this.markAsPristine(i),this.markAsUntouched(i),this.setValue(this.value,i),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Bt(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Bt(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){Gt(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var rn={provide:he,useExisting:ge(()=>qe)},jt=Promise.resolve(),qe=(()=>{let e=class e extends he{constructor(t,r,o,h,v,N){super(),this._changeDetectorRef=v,this.callSetDisabledState=N,this.control=new nn,this._registered=!1,this.name="",this.update=new M,this._parent=t,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=en(this,h)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),Ki(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){ti(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){jt.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,o=r!==0&&vt(r);jt.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?zi(t,this._parent):[t]}};e.\u0275fac=function(r){return new(r||e)(A(Z,9),A(Wt,10),A(zt,10),A(Lt,10),A(_t,8),A(Le,8))},e.\u0275dir=U({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[_e([rn]),H,rt]});let n=e;return n})(),ri=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=U({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let n=e;return n})();var on=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=oe({type:e}),e.\u0275inj=re({});let n=e;return n})();var ee=(()=>{let e=class e{static withConfig(t){return{ngModule:e,providers:[{provide:Le,useValue:t.callSetDisabledState??We}]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=oe({type:e}),e.\u0275inj=re({imports:[on]});let n=e;return n})();var k=(()=>{let e=class e{constructor(t){this.http=t,this.baseUrl="https://backend.tcc.utfpr"}login(t,r){let o=`${this.baseUrl}/auth/login`,h={email:t,password:r};return this.http.post(o,h,{observe:"response"}).pipe(it(v=>{let N=v.body;if(N){localStorage.setItem("token",N.token);let W=Date.now()+N.expiresIn;localStorage.setItem("tokenExpiresAt",W.toString())}}),j(v=>v.body))}logout(){console.log("Logout realizado")}getFiles(){let t=`${this.baseUrl}/file`;return this.http.get(t,{responseType:"json"})}getAssetsByFileId(t){let r=`${this.baseUrl}/file/${t}/assets`;return this.http.get(r,{responseType:"json"})}createFile(){let t=`${this.baseUrl}/file`;return this.http.post(t,null,{observe:"response"}).pipe(j(r=>r.body))}createAsset(t,r){let o=`${this.baseUrl}/asset`;return this.http.get(r,{responseType:"blob"}).pipe(Fe(h=>{let v=new FormData;return v.append("image",h),v.append("fileId",t.toString()),this.http.post(o,v)}))}deleteAsset(t){let r=`${this.baseUrl}/asset/${t}`;return this.http.delete(r,{observe:"response"})}confirmAsset(t,r){let o=`${this.baseUrl}/asset/confirm/${t}`,h={assetNumber:r};return this.http.post(o,h)}recognizeAssetNumber(t){let r=`${this.baseUrl}/asset/recognize/${t}`;return this.http.get(r,{responseType:"json"})}addImageToAsset(t,r){let o=`${this.baseUrl}/asset/add-image`;return this.http.get(r,{responseType:"blob"}).pipe(Fe(h=>{let v=new FormData;return v.append("image",h),v.append("assetId",t.toString()),this.http.post(o,v)}))}confirmFile(t){let r=`${this.baseUrl}/file/${t}/confirm`;return this.http.post(r,null)}deleteImage(t){let r=`${this.baseUrl}/asset/delete-image/${t}`;return this.http.delete(r,{observe:"response"})}};e.\u0275fac=function(r){return new(r||e)(nt(wt))},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var P=(()=>{let e=class e{constructor(){}getImageCount(t){let r=t.mainImage!==""?1:0;return r+=t.images.length||0,r}isAssetComplete(t){return!!t&&t.mainImage!==""&&t.assetNumber!==""&&t.images.length>=2}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var sn=["video"],an=["canvas"];function ln(n,e){if(n&1){let i=y();s(0,"div",6),u("click",function(){p(i);let r=m();return f(r.rotateVideoInput(!0))}),a()}}var $e=class n{constructor(e,i,t){this._mimeType=null,this._imageAsBase64=null,this._imageAsDataUrl=null,this._imageData=null,this._mimeType=i,this._imageAsDataUrl=e,this._imageData=t}static getDataFromDataUrl(e,i){return e.replace(`data:${i};base64,`,"")}get imageAsBase64(){return this._imageAsBase64?this._imageAsBase64:this._imageAsBase64=n.getDataFromDataUrl(this._imageAsDataUrl,this._mimeType)}get imageAsDataUrl(){return this._imageAsDataUrl}get imageData(){return this._imageData}},me=class{static getAvailableVideoInputs(){return!navigator.mediaDevices||!navigator.mediaDevices.enumerateDevices?Promise.reject("enumerateDevices() not supported."):new Promise((e,i)=>{navigator.mediaDevices.enumerateDevices().then(t=>{e(t.filter(r=>r.kind==="videoinput"))}).catch(t=>{i(t.message||t)})})}},si=(()=>{class n{constructor(){this.width=640,this.height=480,this.videoOptions=n.DEFAULT_VIDEO_OPTIONS,this.allowCameraSwitch=!0,this.captureImageData=!1,this.imageType=n.DEFAULT_IMAGE_TYPE,this.imageQuality=n.DEFAULT_IMAGE_QUALITY,this.imageCapture=new M,this.initError=new M,this.imageClick=new M,this.cameraSwitched=new M,this.availableVideoInputs=[],this.videoInitialized=!1,this.activeVideoInputIndex=-1,this.mediaStream=null,this.activeVideoSettings=null}set trigger(i){this.triggerSubscription&&this.triggerSubscription.unsubscribe(),this.triggerSubscription=i.subscribe(()=>{this.takeSnapshot()})}set switchCamera(i){this.switchCameraSubscription&&this.switchCameraSubscription.unsubscribe(),this.switchCameraSubscription=i.subscribe(t=>{typeof t=="string"?this.switchToVideoInput(t):this.rotateVideoInput(t!==!1)})}static getMediaConstraintsForDevice(i,t){let r=t||this.DEFAULT_VIDEO_OPTIONS;return i&&(r.deviceId={exact:i}),r}static getDeviceIdFromMediaStreamTrack(i){if(i.getSettings&&i.getSettings()&&i.getSettings().deviceId)return i.getSettings().deviceId;if(i.getConstraints&&i.getConstraints()&&i.getConstraints().deviceId){let t=i.getConstraints().deviceId;return n.getValueFromConstrainDOMString(t)}}static getFacingModeFromMediaStreamTrack(i){if(i){if(i.getSettings&&i.getSettings()&&i.getSettings().facingMode)return i.getSettings().facingMode;if(i.getConstraints&&i.getConstraints()&&i.getConstraints().facingMode){let t=i.getConstraints().facingMode;return n.getValueFromConstrainDOMString(t)}}}static isUserFacing(i){let t=n.getFacingModeFromMediaStreamTrack(i);return t?t.toLowerCase()==="user":!1}static getValueFromConstrainDOMString(i){if(i){if(i instanceof String)return String(i);if(Array.isArray(i)&&Array(i).length>0)return String(i[0]);if(typeof i=="object"){if(i.exact)return String(i.exact);if(i.ideal)return String(i.ideal)}}return null}ngAfterViewInit(){this.detectAvailableDevices().then(()=>{this.switchToVideoInput(null)}).catch(i=>{this.initError.next({message:i}),this.switchToVideoInput(null)})}ngOnDestroy(){this.stopMediaTracks(),this.unsubscribeFromSubscriptions()}takeSnapshot(){let i=this.nativeVideoElement,t={width:this.width,height:this.height};i.videoWidth&&(t.width=i.videoWidth,t.height=i.videoHeight);let r=this.canvas.nativeElement;r.width=t.width,r.height=t.height;let o=r.getContext("2d");o.drawImage(i,0,0);let h=this.imageType?this.imageType:n.DEFAULT_IMAGE_TYPE,v=this.imageQuality?this.imageQuality:n.DEFAULT_IMAGE_QUALITY,N=r.toDataURL(h,v),W=null;this.captureImageData&&(W=o.getImageData(0,0,r.width,r.height)),this.imageCapture.next(new $e(N,h,W))}rotateVideoInput(i){if(this.availableVideoInputs&&this.availableVideoInputs.length>1){let t=i?1:this.availableVideoInputs.length-1,r=(this.activeVideoInputIndex+t)%this.availableVideoInputs.length;this.switchToVideoInput(this.availableVideoInputs[r].deviceId)}}switchToVideoInput(i){this.videoInitialized=!1,this.stopMediaTracks(),this.initWebcam(i,this.videoOptions)}videoResize(){}get videoWidth(){let i=this.getVideoAspectRatio();return Math.min(this.width,this.height*i)}get videoHeight(){let i=this.getVideoAspectRatio();return Math.min(this.height,this.width/i)}get videoStyleClasses(){let i="";return this.isMirrorImage()&&(i+="mirrored "),i.trim()}get nativeVideoElement(){return this.video.nativeElement}getVideoAspectRatio(){let i=this.nativeVideoElement;return i.videoWidth&&i.videoWidth>0&&i.videoHeight&&i.videoHeight>0?i.videoWidth/i.videoHeight:this.width/this.height}initWebcam(i,t){let r=this.nativeVideoElement;if(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia){let o=n.getMediaConstraintsForDevice(i,t);navigator.mediaDevices.getUserMedia({video:o}).then(h=>{this.mediaStream=h,r.srcObject=h,r.play(),this.activeVideoSettings=h.getVideoTracks()[0].getSettings();let v=n.getDeviceIdFromMediaStreamTrack(h.getVideoTracks()[0]);this.cameraSwitched.next(v),this.detectAvailableDevices().then(()=>{this.activeVideoInputIndex=v?this.availableVideoInputs.findIndex(N=>N.deviceId===v):-1,this.videoInitialized=!0}).catch(()=>{this.activeVideoInputIndex=-1,this.videoInitialized=!0})}).catch(h=>{this.initError.next({message:h.message,mediaStreamError:h})})}else this.initError.next({message:"Cannot read UserMedia from MediaDevices."})}getActiveVideoTrack(){return this.mediaStream?this.mediaStream.getVideoTracks()[0]:null}isMirrorImage(){if(!this.getActiveVideoTrack())return!1;{let i="auto";switch(this.mirrorImage&&(typeof this.mirrorImage=="string"?i=String(this.mirrorImage).toLowerCase():this.mirrorImage.x&&(i=this.mirrorImage.x.toLowerCase())),i){case"always":return!0;case"never":return!1}}return n.isUserFacing(this.getActiveVideoTrack())}stopMediaTracks(){this.mediaStream&&this.mediaStream.getTracks&&(this.nativeVideoElement.pause(),this.mediaStream.getTracks().forEach(i=>i.stop()))}unsubscribeFromSubscriptions(){this.triggerSubscription&&this.triggerSubscription.unsubscribe(),this.switchCameraSubscription&&this.switchCameraSubscription.unsubscribe()}detectAvailableDevices(){return new Promise((i,t)=>{me.getAvailableVideoInputs().then(r=>{this.availableVideoInputs=r,i(r)}).catch(r=>{this.availableVideoInputs=[],t(r)})})}}return n.DEFAULT_VIDEO_OPTIONS={facingMode:"environment"},n.DEFAULT_IMAGE_TYPE="image/jpeg",n.DEFAULT_IMAGE_QUALITY=.92,n.\u0275fac=function(i){return new(i||n)},n.\u0275cmp=C({type:n,selectors:[["webcam"]],viewQuery:function(i,t){if(i&1&&(ke(sn,7),ke(an,7)),i&2){let r;Pe(r=Re())&&(t.video=r.first),Pe(r=Re())&&(t.canvas=r.first)}},inputs:{width:"width",height:"height",videoOptions:"videoOptions",allowCameraSwitch:"allowCameraSwitch",mirrorImage:"mirrorImage",captureImageData:"captureImageData",imageType:"imageType",imageQuality:"imageQuality",trigger:"trigger",switchCamera:"switchCamera"},outputs:{imageCapture:"imageCapture",initError:"initError",imageClick:"imageClick",cameraSwitched:"cameraSwitched"},decls:6,vars:7,consts:[["video",""],["canvas",""],[1,"webcam-wrapper",3,"click"],["autoplay","","muted","","playsinline","",3,"resize","width","height"],["class","camera-switch",3,"click",4,"ngIf"],[3,"width","height"],[1,"camera-switch",3,"click"]],template:function(i,t){if(i&1){let r=y();s(0,"div",2),u("click",function(){return p(r),f(t.imageClick.next())}),s(1,"video",3,0),u("resize",function(){return p(r),f(t.videoResize())}),a(),w(3,ln,1,0,"div",4),g(4,"canvas",5,1),a()}i&2&&(l(),se(t.videoStyleClasses),d("width",t.videoWidth)("height",t.videoHeight),l(2),d("ngIf",t.allowCameraSwitch&&t.availableVideoInputs.length>1&&t.videoInitialized),l(),d("width",t.width)("height",t.height))},dependencies:[x],styles:[".webcam-wrapper[_ngcontent-%COMP%]{display:inline-block;position:relative;line-height:0}.webcam-wrapper[_ngcontent-%COMP%]   video.mirrored[_ngcontent-%COMP%]{transform:scaleX(-1)}.webcam-wrapper[_ngcontent-%COMP%]   canvas[_ngcontent-%COMP%]{display:none}.webcam-wrapper[_ngcontent-%COMP%]   .camera-switch[_ngcontent-%COMP%]{background-color:#0000001a;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAE9UlEQVR42u2aT2hdRRTGf+cRQqghSqihdBFDkRISK2KDfzDWxHaRQHEhaINKqa1gKQhd6EZLN+IidCH+Q0oWIkVRC21BQxXRitVaSbKoJSGtYGoK2tQ/tU1jY5v0c5F54Xl7b/KSO/PyEt+3e5f75p7zzZwzZ74zUEIJJfyfYaEGllQGVAGZlENdBy6Z2cSiYFTSKkkfS/pH/nBF0kFJdUW9AiRVASeAukD8DgNrzOySrwEzng18KaDzALXuG8W3AiStAvqBisBRNg40mtlPxbYCOgvgPO4bncWW+JpVeDQXRQhIygDfA00F5r0XuNfMrgclQFI98DDQCNQA5ZFXqoCWBVp8XwHRHeEqcN7loy/NbHBesyqpQ1KfFj/6nC+ZvFaApFrgPaCZpYVvgCfNbDiRAElNwGFg+RIt/X8H2s2s9wYCJDUAR4HqJX7++RN40MwGpgmQVAH0AQ2BPz4AHHPl8nBOAqtyFWQjsA6oL4Ada81sPDv7uwImod8kvSJp9RyS8O2SXnb/DYVd2Y9VSroQ4ANXJO2WVJmixqh0kzMWwL4LkiqRtDnA4D1zmfE8j9g9AezcnAHaPcfXdbfdnPZ2Yps6+DwAvO/Z1naTdApY7Xng48BDZnY1MpMVQBuw3iXc5Tnb0wBwBPjUzP6eoezuArZ6svM0geJLkvZEYnl3nkntoqROSbckSW2Suj3ZOIangc7GPJuUtNGdFIfmMeavktoSSKiW9LMPw30Q8JqkekmjCbOZRhuclLQjgYSNxUBAj6RyZ9ATgUJpUtJTCSR8vpAEXHAyWK5BXYFIGHOlepSAloUk4NEYgyoknQhEwhFJ0e8h6VSaQeerCb5uZgdi9utxYBNwOUD93hIVXswM4INCi6K9wAszFC2DwLOBDjHbYp59karIUnRdzYy/3ClqVklaUhfwTICj7K25OqA7a4wWagVsm4Me/xzwg2cCqqONFzO7DPxSCAJi436GUBgHHguQD2oTlJ55oSzP9ybccsttSJw1szdjFOSnI/8dTCGZHwcORp4Nx7y3B1iZ8/sm4MW8/Euxg5wIsS/HaAp3zeP4/G7obRDXI4jiTIA22H7Xdc7X+S3A5lC7QBQ357aq3VAjCeSkwUfAJrfvz+R8A9ADLAtZB+TinpjC5JMA+//jwPZZnF8G7J+L8z4IWB/zbG+gIujVWfLBW/NStVMmqaG4POJRsIjix7h8IGnLQuoBbQki5sVAJHyYm7YkNaRRtXwQ8G1cHpX0iKRrgUjYno17Sf0LrQhJUkdCeHWkVITGJI0k1QeS3ikGSUzOyJUJJNznYneuOCnpTldcxa2kP3xJYqOeSDjqZG8ShJLnE8TTuMS6Iyu1BW7djZqkfo9N0QOuYJmYQddfB7RG+gLTNzqAY9FrL+5/nwEbvDdJJe3zzOrhNP3AWRqmk55t3ZcBuj3b2gb0Sbrbo/NNzk7fFzu7s/E5EiC+rrmeQU0Kx2skvRFoOx2ZzlmSdgbsw49JetvtBpk8nM64d/cGbNtJ0s7cGyJlwHeEv+t3nqnLSgPAUOSGyG3AHUxdzqoJbEcvcL+ZTeTeEapzJKxgaeOcc/7Mf06D7kFrguS0VDAMtGadv+E47DT9tcChJej8ISfpD+abgTe45uOkFi8mnQ+JBVQ+d4VXuOptjavcyot8pq86mfwk8LWZnaOEEkoooYQSSojDv8AhQNeGfe0jAAAAAElFTkSuQmCC);background-repeat:no-repeat;border-radius:5px;position:absolute;right:13px;top:10px;height:48px;width:48px;background-size:80%;cursor:pointer;background-position:center;transition:background-color .2s ease}.webcam-wrapper[_ngcontent-%COMP%]   .camera-switch[_ngcontent-%COMP%]:hover{background-color:#0000002e}"]}),n})();var ai=(()=>{class n{}return n.\u0275fac=function(i){return new(i||n)},n.\u0275mod=oe({type:n}),n.\u0275inj=re({imports:[[S]]}),n})();var pe=(n,e)=>({"width.px":n,"height.px":e});function dn(n,e){if(n&1){let i=y();s(0,"webcam",12),u("imageCapture",function(r){p(i);let o=m();return f(o.handleImage(r))})("cameraSwitched",function(r){p(i);let o=m();return f(o.cameraWasSwitched(r))})("initError",function(r){p(i);let o=m();return f(o.handleInitError(r))}),a()}if(n&2){let i=m();d("height",i.screenHeight)("width",i.screenWidth)("trigger",i.triggerObservable)("allowCameraSwitch",!1)("switchCamera",i.nextWebcamObservable)("videoOptions",i.videoOptions)("imageQuality",1)}}function un(n,e){if(n&1&&(s(0,"div",13),g(1,"div",14)(2,"div",15)(3,"div",16)(4,"div",17),a()),n&2){let i=m();d("ngStyle",q(5,pe,i.screenWidth*.6,i.screenHeight*.2)),l(),d("ngStyle",q(8,pe,i.screenHeight*.05,i.screenHeight*.05)),l(),d("ngStyle",q(11,pe,i.screenHeight*.05,i.screenHeight*.05)),l(),d("ngStyle",q(14,pe,i.screenHeight*.05,i.screenHeight*.05)),l(),d("ngStyle",q(17,pe,i.screenHeight*.05,i.screenHeight*.05))}}var li=(()=>{let e=class e{constructor(t){this.location=t,this.imageCaptured=new M,this.showSquare=!1,this.screenWidth=0,this.screenHeight=0,this.showWebcam=!0,this.allowCameraSwitch=!0,this.multipleWebcamsAvailable=!1,this.deviceId="",this.videoOptions={facingMode:{ideal:"environment"}},this.errors=[],this.processedImage=null,this.trigger=new ne,this.nextWebcam=new ne,this.isTorchOn=!1,this.webcamImage=null}ngOnInit(){me.getAvailableVideoInputs().then(t=>{this.multipleWebcamsAvailable=t&&t.length>1}),this.screenWidth=window.innerWidth,this.screenHeight=window.innerHeight,window.addEventListener("resize",this.updateScreenDimensions.bind(this))}ngAfterViewInit(){this.setupResizeObserver()}ngOnDestroy(){this.resizeObserver&&this.resizeObserver.disconnect()}setupResizeObserver(){let t=document.getElementById("camera-container");if(t){this.resizeObserver=new ResizeObserver(()=>{this.updateCloseButtonPosition()});let r=t.querySelector("video");r&&this.resizeObserver.observe(r)}}close(){this.location.back()}updateCloseButtonPosition(){let t=document.getElementById("camera-container");if(t){let r=t.querySelector("video");if(r){let o=r.getBoundingClientRect(),h=document.getElementById("close");h&&(h.style.top=`${o.top+16}px`,h.style.right=`${Math.max(o.left,0)+16}px`)}else console.log("Elemento <video> n\xE3o encontrado")}}updateScreenDimensions(){this.screenWidth=window.innerWidth,this.screenHeight=window.innerHeight}triggerSnapshot(){this.trigger.next()}toggleWebcam(){this.showWebcam=!this.showWebcam}handleInitError(t){t.mediaStreamError&&t.mediaStreamError.name==="NotAllowedError"?(alert("NotAllowedError"),console.warn("Camera access was not allowed by user!")):alert(`Other error: ${t.mediaStreamError.name}`),this.errors.push(t)}showNextWebcam(t){this.nextWebcam.next(t)}handleImage(t){console.info("received webcam image",t),this.webcamImage=t,this.imageCaptured.emit(t),this.turnTorchOff()}turnTorchOff(){this.isTorchOn=!0,this.onSwitchTorch()}cameraWasSwitched(t){console.log("active device: "+t),this.deviceId=t}get triggerObservable(){return this.trigger.asObservable()}get nextWebcamObservable(){return this.nextWebcam.asObservable()}onSwitchTorch(){return Ye(this,null,function*(){try{let t=yield navigator.mediaDevices.getUserMedia({video:{facingMode:["environment"]}});if(t){let r=t.getVideoTracks()[0];new ImageCapture(r).getPhotoCapabilities().then(h=>{h&&h.fillLightMode&&(h.fillLightMode.includes("flash")||h.fillLightMode.includes("torch"))&&(this.isTorchOn=!this.isTorchOn,r.applyConstraints({advanced:[{torch:this.isTorchOn}]}).then())})}}catch(t){console.error("Error enabling torch:",t)}})}};e.\u0275fac=function(r){return new(r||e)(A($))},e.\u0275cmp=C({type:e,selectors:[["app-camera"]],inputs:{showSquare:"showSquare",onClose:"onClose"},outputs:{imageCaptured:"imageCaptured"},standalone:!0,features:[b],decls:12,vars:2,consts:[["videoElement",""],["id","vid_container"],[1,"camera-view"],["id","camera-container",3,"height","width","trigger","allowCameraSwitch","switchCamera","videoOptions","imageQuality","imageCapture","cameraSwitched","initError",4,"ngIf"],["id","close",3,"click"],["src","assets/img/close.svg","alt","Cancelar gera\xE7\xE3o","width","32px","height","32px"],["id","red-square",3,"ngStyle",4,"ngIf"],["id","gui_controls"],["id","switchCameraButton","name","switch Camera","type","button",1,"actionBtn",3,"click"],["id","takePhotoButton","name","take Photo","type","button",1,"actionBtn",3,"click"],["id","switchTorchButton","name","switch Torch","type","button",1,"actionBtn",3,"click"],["autoplay","","playsinline",""],["id","camera-container",3,"imageCapture","cameraSwitched","initError","height","width","trigger","allowCameraSwitch","switchCamera","videoOptions","imageQuality"],["id","red-square",3,"ngStyle"],[1,"corner","top-left",3,"ngStyle"],[1,"corner","top-right",3,"ngStyle"],[1,"corner","bottom-left",3,"ngStyle"],[1,"corner","bottom-right",3,"ngStyle"]],template:function(r,o){if(r&1){let h=y();s(0,"div",1)(1,"section",2),w(2,dn,1,7,"webcam",3),s(3,"button",4),u("click",function(){return p(h),f(o.close())}),g(4,"img",5),a(),w(5,un,5,20,"div",6),a()(),s(6,"div",7)(7,"button",8),u("click",function(){return p(h),f(o.showNextWebcam(!0))}),a(),s(8,"button",9),u("click",function(){return p(h),f(o.triggerSnapshot())}),a(),s(9,"button",10),u("click",function(){return p(h),f(o.onSwitchTorch())}),a(),g(10,"video",11,0),a()}r&2&&(l(2),d("ngIf",o.showWebcam),l(3),d("ngIf",o.showSquare))},dependencies:[S,x,bt,ai,si],styles:['.camera-view[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;position:relative;overflow:hidden;width:100%;height:100%;object-fit:cover;z-index:0}#red-square[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}#close[_ngcontent-%COMP%]{position:absolute;z-index:2;cursor:pointer;border:none}.corner[_ngcontent-%COMP%]{position:absolute}.top-left[_ngcontent-%COMP%]{top:0;left:0;border-left:3px solid red;border-top:3px solid red}.top-right[_ngcontent-%COMP%]{top:0;right:0;border-right:3px solid red;border-top:3px solid red}.bottom-left[_ngcontent-%COMP%]{bottom:0;left:0;border-left:3px solid red;border-bottom:3px solid red}.bottom-right[_ngcontent-%COMP%]{bottom:0;right:0;border-right:3px solid red;border-bottom:3px solid red}main[_ngcontent-%COMP%]{margin:0;padding:0;background:#000}#vid_container[_ngcontent-%COMP%]{position:fixed;top:0;left:0;background-color:#111}#gui_controls[_ngcontent-%COMP%]{position:fixed;background-color:#111;z-index:2;bottom:0}button[_ngcontent-%COMP%]{outline:none;position:absolute;color:#fff;display:block;opacity:1;background:transparent;border:solid 2px #fff;padding:0;text-shadow:0px 0px 4px black;background-position:center center;background-repeat:no-repeat;pointer-events:auto;z-index:2}#takePhotoButton[_ngcontent-%COMP%]{left:calc(50% - 40px);top:calc(50% - 40px);width:80px;height:80px;background-image:url("./media/ic_photo_camera_white_48px-5L2APNYG.svg");border-radius:50%;background-color:#00000080}#switchCameraButton[_ngcontent-%COMP%]{width:64px;height:64px;background-image:url("./media/ic_camera_front_white_36px-7Z6M524V.svg");border-radius:50%;background-color:#00000080}#switchTorchButton[_ngcontent-%COMP%]{width:64px;height:64px;background-image:url("./media/ic_torch_white_36px-THKE2J2M.svg");border-radius:50%;background-color:#00000080}#takePhotoButton[_ngcontent-%COMP%]:active, #switchCameraButton[_ngcontent-%COMP%]:active, #switchTorchButton[_ngcontent-%COMP%]:active{background-color:#fff}@media screen and (orientation: portrait){#vid_container[_ngcontent-%COMP%]{width:100%;height:80%}#gui_controls[_ngcontent-%COMP%]{width:100%;height:20%;left:0}#switchCameraButton[_ngcontent-%COMP%]{left:calc(20% - 32px);top:calc(50% - 32px)}#switchTorchButton[_ngcontent-%COMP%]{right:calc(20% - 32px);top:calc(50% - 32px)}}@media screen and (orientation: landscape){#vid_container[_ngcontent-%COMP%]{width:80%;height:100%}#vid_container.left[_ngcontent-%COMP%]{left:20%}#gui_controls[_ngcontent-%COMP%]{width:20%;height:100%;right:0}#gui_controls.left[_ngcontent-%COMP%]{left:0}#switchCameraButton[_ngcontent-%COMP%]{left:calc(50% - 32px);top:calc(18% - 32px)}#switchTorchButton[_ngcontent-%COMP%]{left:calc(50% - 32px);bottom:calc(18% - 32px)}}']});let n=e;return n})();var Qe="Logout devido a erro 401",Ve="Usu\xE1rio ou senha incorretos ou opera\xE7\xE3o n\xE3o autorizada",ci="N\xE3o encontrado",di="Erro desconhecido",ui="Usu\xE1rio j\xE1 tem um arquivo sendo criado",xe="Bens inv\xE1lidos",hi="Arquivo cont\xE9m um bem incompleto. N\xE3o foi poss\xEDvel adicionar novo bem";var mi="N\xE3o foi poss\xEDvel encontrar bem com esse n\xFAmero de patrim\xF4nio",pi="Estado de conserva\xE7\xE3o ou situa\xE7\xE3o inv\xE1lidos",fi="Arquivo cont\xE9m mais de um respons\xE1vel pelos bens",gi="Arquivo j\xE1 cont\xE9m esse bem";var _i=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=C({type:e,selectors:[["app-download-card"]],inputs:{file:"file"},standalone:!0,features:[b],decls:11,vars:8,consts:[[1,"container"],["target","_blank","download","",1,"content",3,"href"],["src","assets/img/download.svg","alt","Download","width","32px","height","32px"]],template:function(r,o){r&1&&(s(0,"div",0)(1,"a",1)(2,"div")(3,"p"),c(4),a(),s(5,"p"),c(6),a(),s(7,"p"),c(8),mt(9,"date"),a()(),g(10,"img",2),a()()),r&2&&(l(),d("href",o.file.filename,F),l(3),lt("",o.file.assetQuantity," ",o.file.assetQuantity===1?"bem":"bens",""),l(2),I(o.file.responsible),l(2),G("Gerado em ",pt(9,5,o.file.consolidatedAt,"dd/MM/yyyy"),""))},dependencies:[S,Et],styles:["a[_ngcontent-%COMP%]{color:#000;text-decoration:none}p[_ngcontent-%COMP%]{font-size:14px;font-weight:700;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:224px}.container[_ngcontent-%COMP%]{height:80px;width:288px;background-color:#fff;box-shadow:4px 4px 10px #00000040;border-radius:8px}.content[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:space-between;padding:16px;max-width:288px}"]});let n=e;return n})();var De=(()=>{let e=class e{constructor(){this.mobileDeviceSubject=new Je(!1),this.mobileDevice$=this.mobileDeviceSubject.asObservable(),this.updateDeviceStatus(window.innerWidth),this.resizeSubscription=et(window,"resize").pipe(j(t=>t.target.innerWidth)).subscribe(t=>this.updateDeviceStatus(t))}updateDeviceStatus(t){this.mobileDeviceSubject.next(t<=768)}ngOnDestroy(){this.resizeSubscription&&this.resizeSubscription.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var hn=n=>({open:n});function mn(n,e){if(n&1){let i=y();s(0,"button")(1,"img",4),u("click",function(){p(i);let r=m();return f(r.toggleSidebar())}),a()()}}function pn(n,e){if(n&1){let i=y();s(0,"button",5),u("click",function(){p(i);let r=m();return f(r.goBack())}),g(1,"img",6),a()}}function fn(n,e){if(n&1){let i=y();s(0,"div",7)(1,"button",5),u("click",function(){p(i);let r=m();return f(r.toggleSidebar())}),g(2,"img",8),a(),s(3,"ul")(4,"li")(5,"a",9),c(6,"In\xEDcio"),a()(),s(7,"li")(8,"a",9),c(9,"Informa\xE7\xF5es"),a()(),s(10,"li")(11,"a",9),c(12,"Consulta"),a()()()()}if(n&2){let i=m();d("ngClass",ht(1,hn,i.isSidebarVisible))}}var te=(()=>{let e=class e{constructor(t){this.location=t,this.router=_(D),this.deviceService=_(De),this.isHomePage=!1,this.isMobileDevice=!1,this.isSidebarVisible=!1}ngOnInit(){this.isHomePage=this.router.url==="/",this.deviceService.mobileDevice$.subscribe(t=>{this.isMobileDevice=t})}goBack(){this.location.back()}toggleSidebar(){this.isSidebarVisible=!this.isSidebarVisible}};e.\u0275fac=function(r){return new(r||e)(A($))},e.\u0275cmp=C({type:e,selectors:[["app-header"]],standalone:!0,features:[b],decls:5,vars:3,consts:[[4,"ngIf"],[3,"click",4,"ngIf"],["src","assets/img/utfpr-logo.svg","alt","Logo da UTFPR","height","25"],["class","sidebar",3,"ngClass",4,"ngIf"],["src","assets/img/menu.svg","alt","Abrir menu","width","24px","height","24px",3,"click"],[3,"click"],["src","assets/img/arrow-back.svg","alt","Voltar"],[1,"sidebar",3,"ngClass"],["src","assets/img/close.svg","alt","Fechar menu","width","16px","height","16px"],["href","#"]],template:function(r,o){r&1&&(s(0,"header"),w(1,mn,2,0,"button",0)(2,pn,2,0,"button",1),g(3,"img",2),a(),w(4,fn,13,3,"div",3)),r&2&&(l(),d("ngIf",!o.isMobileDevice),l(),d("ngIf",o.isMobileDevice&&!o.isHomePage),l(2),d("ngIf",!o.isMobileDevice))},dependencies:[S,Ct,x],styles:["header[_ngcontent-%COMP%]{position:fixed;top:0;left:0;height:50px;width:100%;z-index:1000;display:flex;flex-direction:row;align-items:center;padding:0 24px;border-bottom-right-radius:8px;border-bottom-left-radius:8px;background-color:#fff;box-shadow:1px 1px 2px #00000040}header[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{position:absolute}header[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin:0 auto;display:block}button[_ngcontent-%COMP%]{border:none;opacity:1;background:transparent;cursor:pointer}.sidebar[_ngcontent-%COMP%]{position:fixed;top:0;left:-250px;height:100%;width:250px;padding:32px;z-index:1001;transition:left .3s ease;background-color:#fff;box-shadow:1px 1px 2px #00000040;display:flex;flex-direction:column}.sidebar.open[_ngcontent-%COMP%]{left:0}.sidebar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{align-self:flex-end}.sidebar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0}.sidebar[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:16px}"]});let n=e;return n})();function gn(n,e){if(n&1){let i=y();s(0,"footer",2)(1,"button",3),u("click",function(){p(i);let r=m();return f(r.goToHome())}),g(2,"img",4),s(3,"p"),c(4,"in\xEDcio"),a()(),s(5,"button",3),u("click",function(){p(i);let r=m();return f(r.goToInfo())}),g(6,"img",5),s(7,"p"),c(8,"informa\xE7\xF5es"),a()()()}if(n&2){let i=m();l(),se(i.isAtHome?"selected":""),l(),d("src",i.isAtHome?"assets/img/home-selected.svg":"assets/img/home.svg",F),l(3),se(i.isAtInfo?"selected":""),l(),d("src",i.isAtInfo?"assets/img/info-selected.svg":"assets/img/info.svg",F)}}function _n(n,e){n&1&&(s(0,"footer")(1,"div"),c(2," Footer "),a()())}var ie=(()=>{let e=class e{constructor(){this.router=_(D),this.deviceService=_(De),this.isAtHome=!1,this.isAtInfo=!1,this.isAtSearch=!1,this.isMobileDevice=!1}ngOnInit(){this.isAtInfo=this.router.url.includes("details"),this.isAtSearch=this.router.url.includes("search"),this.isAtHome=!this.isAtInfo&&!this.isAtSearch,this.deviceService.mobileDevice$.subscribe(t=>{this.isMobileDevice=t})}goToHome(){this.router.navigate(["/"])}goToInfo(){this.router.navigate(["/details"])}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=C({type:e,selectors:[["app-footer"]],standalone:!0,features:[b],decls:2,vars:2,consts:[["class","mobile",4,"ngIf"],[4,"ngIf"],[1,"mobile"],[3,"click"],["alt","Home","width","24px","height","24px",3,"src"],["alt","Informa\xE7\xF5es","width","24px","height","24px",3,"src"]],template:function(r,o){r&1&&w(0,gn,9,6,"footer",0)(1,_n,3,0,"footer",1),r&2&&(d("ngIf",o.isMobileDevice),l(),d("ngIf",!o.isMobileDevice))},dependencies:[S,x],styles:["footer[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:160px;width:100%;z-index:1000;background-color:var(--primary-color)}footer.mobile[_ngcontent-%COMP%]{position:fixed;bottom:0;left:0;height:72px;background-color:#fff;color:#000;display:flex;flex-direction:row;align-items:center;justify-content:space-around;padding:0 64px;border-top-left-radius:8px;border-top-right-radius:8px;box-shadow:2px 2px 10px #00000040}footer[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{position:absolute}footer[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin:0 auto;display:block}button[_ngcontent-%COMP%]{border:none;opacity:1;background:transparent;cursor:pointer}button.selected[_ngcontent-%COMP%], button.selected[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{color:var(--primary-color)}"]});let n=e;return n})();function vn(n,e){if(n&1&&(s(0,"div",2),g(1,"app-download-card",3),a()),n&2){let i=e.$implicit;l(),d("file",i)}}var Me=(()=>{let e=class e{constructor(){this.backendService=_(k),this.utilsService=_(P),this.router=_(D),this.files=[],this.consolidateFiles=[],this.backendService.getFiles().subscribe({next:t=>{console.log("Get Files",t),this.files=t,this.unconsolidatedFile=this.files.find(r=>r.consolidated===!1),this.consolidateFiles=this.files.filter(r=>r.consolidated===!0)},error:t=>{console.error(t.message)}})}isAssetComplete(t){return this.utilsService.isAssetComplete(t)}handleFileAction(){this.unconsolidatedFile?this.router.navigate([`/info/${this.unconsolidatedFile.id}`]):this.createFile()}createFile(){this.backendService.createFile().subscribe({next:t=>{console.log("File created:",t);let r={id:void 0,fileId:t.id,description:"",responsible:"",assetNumber:"",mainImage:"",images:[]};this.router.navigate(["/generate"],{state:{data:r}})},error:t=>{t.message===ui&&alert(t.message),console.error(t.message)}})}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=C({type:e,selectors:[["app-home"]],standalone:!0,features:[b],decls:8,vars:2,consts:[["style","margin-bottom: 16px;",4,"ngFor","ngForOf"],["type","button",1,"primary",3,"click"],[2,"margin-bottom","16px"],[3,"file"]],template:function(r,o){r&1&&(g(0,"app-header"),s(1,"main")(2,"h1"),c(3,"Arquivos dispon\xEDveis"),a(),w(4,vn,2,1,"div",0),s(5,"button",1),u("click",function(){return o.handleFileAction()}),c(6),a()(),g(7,"app-footer")),r&2&&(l(4),d("ngForOf",o.consolidateFiles),l(2),G(" ",o.unconsolidatedFile?"Atualizar arquivo":"Iniciar gera\xE7\xE3o"," "))},dependencies:[S,Q,ee,_i,te,ie],styles:["main[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;padding-top:82px;padding-bottom:64px;min-height:calc(100vh - 160px)}h1[_ngcontent-%COMP%]{padding-bottom:32px}button[_ngcontent-%COMP%]{margin-top:32px}@media (max-width:768px){main[_ngcontent-%COMP%]{padding-bottom:136px;min-height:calc(100vh - 72px)}}"]});let n=e;return n})();var vi=(()=>{let e=class e{constructor(){this.backendService=_(k),this.router=_(D)}login(t,r){this.backendService.login(t,r).subscribe({next:o=>{console.log("Logged in successfully:",o),this.router.navigate(["/"])},error:o=>{o.message===Ve&&alert(o.message),console.error(o.message)}})}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=C({type:e,selectors:[["app-login"]],standalone:!0,features:[b],decls:9,vars:0,consts:[["email",""],["password",""],["id","container"],["action",""],["type","text","placeholder","Email"],["type","password","placeholder","Senha"],["type","button",1,"primary",3,"click"]],template:function(r,o){if(r&1){let h=y();s(0,"div",2)(1,"section")(2,"form",3),g(3,"input",4,0)(5,"input",5,1),s(7,"button",6),u("click",function(){p(h);let N=Ue(4),W=Ue(6);return f(o.login(N.value,W.value))}),c(8,"Login"),a()()()()}},dependencies:[S,ee,ri,Zt,ze]});let n=e;return n})();var yi=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=C({type:e,selectors:[["app-sign-up"]],standalone:!0,features:[b],decls:2,vars:0,template:function(r,o){r&1&&(s(0,"p"),c(1,"sign-up works!"),a())}});let n=e;return n})();var yn=["*"];function Cn(n,e){if(n&1){let i=y();s(0,"div",1)(1,"div",2),u("click",function(r){return p(i),f(r.stopPropagation())}),at(2),a()()}}var Ci=(()=>{let e=class e{constructor(){this.isVisible=!1}closeOverlay(){this.isVisible=!1}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=C({type:e,selectors:[["app-overlay"]],inputs:{isVisible:"isVisible"},standalone:!0,features:[b],ngContentSelectors:yn,decls:1,vars:1,consts:[["class","overlay",4,"ngIf"],[1,"overlay"],[1,"overlay-content",3,"click"]],template:function(r,o){r&1&&(st(),w(0,Cn,3,0,"div",0)),r&2&&d("ngIf",o.isVisible)},dependencies:[S,x],styles:[".overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#000000b3;z-index:2;display:flex;justify-content:center;align-items:center}.overlay-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;background:#fff;z-index:2;border-radius:8px;text-align:center;width:80vw;height:80vh}"]});let n=e;return n})();var E=function(n){return n.LOADING="Carregando",n.ASSET_NUMBER_CAPTURE="Obtendo foto da placa de patrim\xF4nio",n.REVIEWING_MAIN_PHOTO="Revisando foto principal da placa de patrim\xF4nio",n.REVIEWING_ASSET_NUMBER="Revisando n\xFAmero de patrim\xF4nio",n.REVIEWING_ASSET_INFO="Revisando informa\xE7\xF5es do bem",n.ASSET_NUMBER_NOT_FOUND="N\xE3o foi poss\xEDvel obter o n\xFAmero de patrim\xF4nio",n.ERROR_ASSET_NOT_FOUND="N\xE3o foi poss\xEDvel encontrar um bem com esse n\xFAmero de patrim\xF4nio",n.ERROR_MORE_THAN_ONE_RESPONSIBLE="N\xE3o foi poss\xEDvel adicionar esse bem: n\xE3o \xE9 poss\xEDvel adicionar bens de respons\xE1veis diferentes",n.ERROR_ASSET_INVALID_CONDITION="N\xE3o foi poss\xEDvel adicionar esse bem: estado de conserva\xE7\xE3o ou situa\xE7\xE3o inv\xE1lida",n.ERROR_ASSET_ALREADY_IN_FILE="N\xE3o foi poss\xEDvel adicionar esse bem: esse bem j\xE1 est\xE1 presente no arquivo",n.ERROR_FILE_INCOMPLETE_ASSETS="Este arquivo cont\xE9m um bem incompleto. N\xE3o foi poss\xEDvel adicionar novo bem",n.ERROR_FILE_INVALID_ASSETS="N\xE3o foi poss\xEDvel gerar arquivo: esse arquivo cont\xE9m bens incompletos",n.PHOTO_CAPTURE="Obtendo foto do bem",n.REVIEWING_ASSET_PHOTO="Revisando foto do bem",n.SELECTING_NEXT_ACTION="Selecionando pr\xF3xima a\xE7\xE3o",n}(E||{});function bn(n,e){n&1&&(s(0,"div",6),g(1,"img",7),a())}function En(n,e){if(n&1){let i=y();s(0,"div",8),g(1,"img",9),s(2,"div",10)(3,"button",11),u("click",function(){p(i);let r=m();return f(r.createAsset())}),c(4,"Confirmar"),a(),s(5,"button",12),u("click",function(){p(i);let r=m();return f(r.clearImage(r.fileStates.ASSET_NUMBER_CAPTURE))}),c(6,"Tirar nova foto"),a()()()}if(n&2){let i=m();l(),d("src",i.webcamImage.imageAsDataUrl,F)}}function An(n,e){if(n&1){let i=y();s(0,"div",13)(1,"div")(2,"p",14),c(3,"N\xFAmero de patrim\xF4nio"),a(),s(4,"input",15),ut("ngModelChange",function(r){p(i);let o=m();return dt(o.temporaryAssetNumber,r)||(o.temporaryAssetNumber=r),f(r)}),a()(),s(5,"div",16)(6,"button",11),u("click",function(){p(i);let r=m();return f(r.confirmAsset())}),c(7,"Confirmar"),a(),s(8,"button",12),u("click",function(){p(i);let r=m();return f(r.deleteAsset())}),c(9,"Cancelar"),a()()()}if(n&2){let i=m();l(4),ct("ngModel",i.temporaryAssetNumber)}}function wn(n,e){if(n&1){let i=y();s(0,"div",13)(1,"div")(2,"strong"),c(3,"Descri\xE7\xE3o do bem:"),a(),s(4,"p",17),c(5),a(),g(6,"br"),s(7,"strong"),c(8,"Respons\xE1vel pelo bem:"),a(),s(9,"p",18),c(10),a()(),s(11,"div",16)(12,"button",11),u("click",function(){p(i);let r=m();return f(r.continueToAssetPhoto())}),c(13,"Continuar"),a()()()}if(n&2){let i=m();l(5),I(i.currentAsset.description),l(5),I(i.currentAsset.responsible)}}function Sn(n,e){if(n&1){let i=y();s(0,"div",13)(1,"div")(2,"p",19),c(3),a()(),s(4,"div",16)(5,"button",20),u("click",function(){p(i);let r=m();return f(r.deleteAsset())}),c(6,"Tirar nova foto"),a()()()}if(n&2){let i=m();l(3),I(i.currentState)}}function In(n,e){if(n&1){let i=y();s(0,"div",13)(1,"div")(2,"p",19),c(3),a()(),s(4,"div",16)(5,"button",20),u("click",function(){p(i);let r=m();return f(r.goBack())}),c(6,"Voltar"),a()()()}if(n&2){let i=m();l(3),I(i.currentState)}}function Vn(n,e){if(n&1){let i=y();s(0,"div",8),g(1,"img",21),s(2,"div",10)(3,"button",11),u("click",function(){p(i);let r=m();return f(r.addImageToAsset())}),c(4,"Confirmar foto"),a(),s(5,"button",12),u("click",function(){p(i);let r=m();return f(r.clearImage(r.fileStates.PHOTO_CAPTURE))}),c(6,"Voltar"),a()()()}if(n&2){let i=m();l(),d("src",i.webcamImage.imageAsDataUrl,F)}}function xn(n,e){if(n&1){let i=y();s(0,"button",11),u("click",function(){p(i);let r=m(2);return f(r.confirmFile())}),c(1,"Gerar arquivo"),a()}}function Dn(n,e){if(n&1){let i=y();s(0,"button",12),u("click",function(){p(i);let r=m(2);return f(r.resetVariablesForNewAsset())}),c(1,"Adicionar novo bem"),a()}}function Mn(n,e){if(n&1){let i=y();s(0,"div",8)(1,"div",16),w(2,xn,2,0,"button",22),s(3,"button",23),u("click",function(){p(i);let r=m();return f(r.clearImage(r.fileStates.PHOTO_CAPTURE))}),c(4,"Adicionar nova foto"),a(),w(5,Dn,2,0,"button",24),a()()}if(n&2){let i=m();l(2),d("ngIf",i.isAssetComplete()),l(3),d("ngIf",i.isAssetComplete())}}var bi=(()=>{let e=class e{constructor(t){this.location=t,this.backendService=_(k),this.utilsService=_(P),this.route=_(Y),this.router=_(D),this.webcamImage=null,this.fileStates=E,this.currentState=E.LOADING,this.temporaryAssetNumber=void 0,this.assetNumberConfidence=void 0,console.log(this.router.getCurrentNavigation()?.extras.state?.data),this.currentAsset=this.router.getCurrentNavigation()?.extras.state?.data,!this.currentAsset||!this.currentAsset.id?this.currentState=E.ASSET_NUMBER_CAPTURE:this.currentAsset.assetNumber===""?this.currentAsset.mainImage!==""&&this.recognizeAsset():this.isAssetComplete()?this.currentState=E.SELECTING_NEXT_ACTION:this.currentState=E.PHOTO_CAPTURE}getImageCount(){return this.utilsService.getImageCount(this.currentAsset)}isAssetComplete(){return this.utilsService.isAssetComplete(this.currentAsset)}clearImage(t){this.webcamImage=null,this.currentState=t}onImageCaptured(t){this.webcamImage=t,this.currentState==E.ASSET_NUMBER_CAPTURE?this.currentState=E.REVIEWING_MAIN_PHOTO:this.currentState=E.REVIEWING_ASSET_PHOTO}goBack(){this.location.back()}continueToAssetPhoto(){this.currentState=E.PHOTO_CAPTURE}createAsset(){let t=this.currentAsset.fileId;t&&this.webcamImage?.imageAsDataUrl&&this.backendService.createAsset(t,this.webcamImage.imageAsDataUrl).subscribe({next:r=>{this.currentAsset={id:r.assetId,fileId:t,description:"",responsible:"",assetNumber:"",mainImage:r.mainImage,images:[]},r.confidenceLevel&&parseFloat(r.confidenceLevel)>.5?(console.log("Asset created:",r),this.temporaryAssetNumber=r.assetNumber,this.assetNumberConfidence=r.confidenceLevel,this.currentState=E.REVIEWING_ASSET_NUMBER):this.currentState=E.ASSET_NUMBER_NOT_FOUND},error:r=>{r.message===hi&&(this.currentState=E.ERROR_FILE_INCOMPLETE_ASSETS),console.error(r.message)}})}deleteAsset(){let t=this.currentAsset.fileId;this.currentAsset.id&&this.backendService.deleteAsset(this.currentAsset.id).subscribe({next:r=>{console.log("Asset deleted:",r),this.currentState=E.ASSET_NUMBER_CAPTURE,this.currentAsset={id:void 0,fileId:t,description:"",responsible:"",assetNumber:"",mainImage:"",images:[]}},error:r=>{console.error("Error deleting asset:",r),alert("Erro ao deletar bem")}})}recognizeAsset(){this.backendService.recognizeAssetNumber(this.currentAsset.id||0).subscribe({next:t=>{this.currentAsset={id:t.assetId,fileId:t.fileId,description:"",responsible:"",assetNumber:"",mainImage:t.mainImage,images:[]},t.confidenceLevel&&parseFloat(t.confidenceLevel)>.5?(console.log("Recognizing asset number:",t),this.temporaryAssetNumber=t.assetNumber,this.assetNumberConfidence=t.confidenceLevel,this.currentState=E.REVIEWING_ASSET_NUMBER):this.currentState=E.ASSET_NUMBER_NOT_FOUND},error:t=>{console.error(t.message)}})}confirmAsset(){this.currentAsset.id&&this.temporaryAssetNumber&&this.backendService.confirmAsset(this.currentAsset.id,this.temporaryAssetNumber).subscribe({next:t=>{console.log("Asset confirmed"),this.currentAsset={id:this.currentAsset.id,fileId:this.currentAsset.fileId,description:t.description||"",responsible:t.responsible||"",assetNumber:this.temporaryAssetNumber||"",mainImage:this.currentAsset.mainImage,images:[]},this.currentState=E.REVIEWING_ASSET_INFO},error:t=>{t.message==mi?this.currentState=E.ERROR_ASSET_NOT_FOUND:t.message==pi?this.currentState=E.ERROR_ASSET_INVALID_CONDITION:t.message==fi?this.currentState=E.ERROR_MORE_THAN_ONE_RESPONSIBLE:t.message==gi?this.currentState=E.ERROR_ASSET_ALREADY_IN_FILE:alert(t.message),console.error(t.message)}})}addImageToAsset(){this.currentAsset.id&&this.webcamImage?.imageAsDataUrl&&this.backendService.addImageToAsset(this.currentAsset.id,this.webcamImage.imageAsDataUrl).subscribe({next:t=>{console.log("Image added to asset:",t),this.currentAsset.images.push(t.path),this.isAssetComplete()?this.currentState=E.SELECTING_NEXT_ACTION:this.currentState=E.PHOTO_CAPTURE},error:t=>{console.error("Error adding image to asset:",t),alert("N\xE3o foi poss\xEDvel adicionar imagem ao bem")}})}confirmFile(){this.currentAsset.fileId&&this.isAssetComplete()&&this.backendService.confirmFile(this.currentAsset.fileId).subscribe({next:t=>{console.log("File confirmed:",t),this.router.navigate(["/"])},error:t=>{t.message===xe?this.currentState=E.ERROR_FILE_INVALID_ASSETS:alert(t.message),console.error(t.message)}})}resetVariablesForNewAsset(){this.currentState=E.ASSET_NUMBER_CAPTURE,this.webcamImage=null,this.temporaryAssetNumber=void 0,this.assetNumberConfidence=void 0,this.currentAsset={id:void 0,fileId:this.currentAsset.fileId,description:"",responsible:"",assetNumber:"",mainImage:"",images:[]}}};e.\u0275fac=function(r){return new(r||e)(A($))},e.\u0275cmp=C({type:e,selectors:[["app-file-generation"]],standalone:!0,features:[b],decls:11,vars:10,consts:[["id","container"],[3,"imageCaptured","showSquare"],[3,"isVisible"],["class","loading-container",4,"ngIf"],["class","overlay-content",4,"ngIf"],["class","overlay-content overlay-padding-top",4,"ngIf"],[1,"loading-container"],["src","assets/img/load.gif","alt","Loading","width","96px","height","96px"],[1,"overlay-content"],["alt","Foto da placa de patrim\xF4nio",1,"image",3,"src"],[1,"buttons-center"],["type","button",1,"primary","button-margin",3,"click"],["type","button",1,"secondary",3,"click"],[1,"overlay-content","overlay-padding-top"],[1,"overlay-text",2,"margin-bottom","8px"],["type","string","placeholder","N\xFAmero de patrim\xF4nio",1,"styled-input",3,"ngModelChange","ngModel"],[1,"buttons-bottom"],[1,"overlay-text","max-two-lines",2,"margin-bottom","8px"],[1,"overlay-text","max-two-lines"],[1,"overlay-text"],["type","button",1,"primary",3,"click"],["alt","Imagem do bem",1,"image",3,"src"],["class","primary button-margin","type","button",3,"click",4,"ngIf"],["type","button",1,"secondary","button-margin",3,"click"],["class","secondary","type","button",3,"click",4,"ngIf"]],template:function(r,o){r&1&&(s(0,"div",0)(1,"app-camera",1),u("imageCaptured",function(v){return o.onImageCaptured(v)}),a(),s(2,"app-overlay",2),w(3,bn,2,0,"div",3)(4,En,7,1,"div",4)(5,An,10,1,"div",5)(6,wn,14,2,"div",5)(7,Sn,7,1,"div",5)(8,In,7,1,"div",5)(9,Vn,7,1,"div",4)(10,Mn,6,2,"div",4),a()()),r&2&&(l(),d("showSquare",o.currentState==o.fileStates.ASSET_NUMBER_CAPTURE),l(),d("isVisible",o.currentState!=o.fileStates.ASSET_NUMBER_CAPTURE&&o.currentState!=o.fileStates.PHOTO_CAPTURE),l(),d("ngIf",o.currentState==o.fileStates.LOADING),l(),d("ngIf",o.currentState==o.fileStates.REVIEWING_MAIN_PHOTO&&o.webcamImage),l(),d("ngIf",o.currentState==o.fileStates.REVIEWING_ASSET_NUMBER),l(),d("ngIf",o.currentState==o.fileStates.REVIEWING_ASSET_INFO),l(),d("ngIf",o.currentState==o.fileStates.ASSET_NUMBER_NOT_FOUND||o.currentState==o.fileStates.ERROR_ASSET_NOT_FOUND||o.currentState==o.fileStates.ERROR_ASSET_INVALID_CONDITION||o.currentState==o.fileStates.ERROR_ASSET_ALREADY_IN_FILE||o.currentState==o.fileStates.ERROR_FILE_INCOMPLETE_ASSETS||o.currentState==o.fileStates.ERROR_MORE_THAN_ONE_RESPONSIBLE),l(),d("ngIf",o.currentState==o.fileStates.ERROR_FILE_INVALID_ASSETS),l(),d("ngIf",o.currentState==o.fileStates.REVIEWING_ASSET_PHOTO&&o.webcamImage),l(),d("ngIf",o.currentState==o.fileStates.SELECTING_NEXT_ACTION))},dependencies:[S,x,ee,Se,Kt,qe,li,Ci],styles:[".overlay-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;width:100%;height:100%}.buttons-center[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding-left:32px;padding-right:32px;width:80vw;flex:1}.buttons-bottom[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:flex-end;padding-left:32px;padding-right:32px;padding-bottom:32px;width:80vw;flex:1}.styled-input[_ngcontent-%COMP%]{font-size:16px;height:40px;text-align:center;border:1px solid black;border-radius:8px;outline:none}.overlay-padding-top[_ngcontent-%COMP%]{padding-top:64px}.styled-input[_ngcontent-%COMP%]:focus{border-color:#333}.styled-input[_ngcontent-%COMP%]:disabled{background-color:var(--gray-background);color:var(--gray-text)}.overlay-text[_ngcontent-%COMP%]{font-size:20px;text-align:center;padding-left:32px;padding-right:32px;width:80vw}.image[_ngcontent-%COMP%]{max-width:100%;max-height:calc(80vh - 164px);border-top-left-radius:8px;border-top-right-radius:8px}.button-margin[_ngcontent-%COMP%]{margin-bottom:16px}.loading-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;width:100%;height:100%}p.max-two-lines[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;line-clamp:2;-webkit-box-orient:vertical}strong[_ngcontent-%COMP%]{font-size:20px}"]});let n=e;return n})();var Ei=(()=>{let e=class e{constructor(){this.assetClicked=new M,this.utilsService=_(P)}onClick(){this.assetClicked.emit(this.asset.id)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=C({type:e,selectors:[["app-asset-info-card"]],inputs:{asset:"asset"},outputs:{assetClicked:"assetClicked"},standalone:!0,features:[b],decls:10,vars:5,consts:[[1,"card",3,"click"],["alt","","width","50px","height","50px",3,"src"]],template:function(r,o){r&1&&(s(0,"div",0),u("click",function(){return o.onClick()}),g(1,"img",1),s(2,"p"),c(3),a(),s(4,"p"),c(5),a(),s(6,"p"),c(7),a(),s(8,"p"),c(9),a()()),r&2&&(l(),d("src",o.asset.mainImage,F),l(2),G("Bem n\xFAmero ",o.asset.assetNumber,""),l(2),I(o.asset.description),l(2),I(o.asset.responsible),l(2),I(o.utilsService.isAssetComplete(o.asset)?"Conclu\xEDdo":"Pendente"))}});let n=e;return n})();function Fn(n,e){if(n&1){let i=y();s(0,"div")(1,"app-asset-info-card",3),u("assetClicked",function(r){p(i);let o=m();return f(o.goToAsset(r))}),a()()}if(n&2){let i=e.$implicit;l(),d("asset",i)}}function On(n,e){if(n&1){let i=y();s(0,"button",2),u("click",function(){p(i);let r=m();return f(r.handleAddAsset())}),c(1," Adicionar bem "),a()}}var Ai=(()=>{let e=class e{constructor(){this.backendService=_(k),this.utilsService=_(P),this.router=_(D),this.route=_(Y),this.assets=[],this.fileId=parseInt(this.route.snapshot.paramMap.get("id")||"0"),this.backendService.getAssetsByFileId(this.fileId).subscribe({next:t=>{console.log("Got assets by fileId:",t),this.assets=t},error:t=>{console.error(t.message)}})}goToAsset(t){this.router.navigate([`info/${this.fileId}/asset/${t}`])}areAllAssetsComplete(){return this.assets.every(t=>this.utilsService.isAssetComplete(t))}handleAssetAction(){if(this.assets.length>0&&this.areAllAssetsComplete())this.backendService.confirmFile(this.fileId).subscribe({next:t=>{console.log("File confirmed:",t),this.router.navigate(["/"])},error:t=>{t.message===xe&&alert(t.message),console.error(t.message)}});else{let t=this.assets.find(o=>!this.utilsService.isAssetComplete(o)),r={id:t?.id,fileId:this.fileId,description:t?.description||"",responsible:t?.responsible||"",assetNumber:t?.assetNumber||"",mainImage:t?.mainImage||"",images:t?.images||[]};this.router.navigate(["/generate"],{state:{data:r}})}}handleAddAsset(){let t={id:void 0,fileId:this.fileId,description:"",responsible:"",assetNumber:"",mainImage:"",images:[]};this.router.navigate(["/generate"],{state:{data:t}})}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=C({type:e,selectors:[["app-file-info"]],standalone:!0,features:[b],decls:9,vars:3,consts:[[4,"ngFor","ngForOf"],["class","primary","type","button",3,"click",4,"ngIf"],["type","button",1,"primary",3,"click"],[3,"assetClicked","asset"]],template:function(r,o){r&1&&(g(0,"app-header"),s(1,"main")(2,"h1"),c(3,"Bens no arquivo"),a(),w(4,Fn,2,1,"div",0)(5,On,2,0,"button",1),s(6,"button",2),u("click",function(){return o.handleAssetAction()}),c(7),a()(),g(8,"app-footer")),r&2&&(l(4),d("ngForOf",o.assets),l(),d("ngIf",o.assets.length>0&&o.areAllAssetsComplete()),l(2),G(" ",o.assets.length>0&&o.areAllAssetsComplete()?"Gerar arquivo":"Continuar gera\xE7\xE3o"," "))},dependencies:[S,Q,x,Ei,te,ie],styles:["main[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;padding-top:82px;padding-bottom:64px;min-height:calc(100vh - 160px)}@media (max-width:768px){main[_ngcontent-%COMP%]{padding-bottom:136px;min-height:calc(100vh - 72px)}}"]});let n=e;return n})();function Nn(n,e){if(n&1){let i=y();s(0,"div"),g(1,"img",2),s(2,"button",6),u("click",function(){let r=p(i).$implicit,o=m(2);return f(o.deleteImage(r))}),c(3," Delete "),a()()}if(n&2){let i=e.$implicit;l(),d("src",i,F)}}function Tn(n,e){if(n&1){let i=y();s(0,"section")(1,"strong"),c(2,"N\xFAmero do tombamento"),a(),s(3,"p"),c(4),a(),s(5,"strong"),c(6,"Descri\xE7\xE3o"),a(),s(7,"p"),c(8),a(),s(9,"strong"),c(10,"Respons\xE1vel"),a(),s(11,"p"),c(12),a(),s(13,"strong"),c(14,"Estado de conserva\xE7\xE3o"),a(),s(15,"p"),c(16),a(),s(17,"strong"),c(18,"Situa\xE7\xE3o"),a(),s(19,"p"),c(20),a(),s(21,"strong"),c(22,"Local"),a(),s(23,"p"),c(24),a(),g(25,"br"),s(26,"div",1)(27,"strong"),c(28,"Foto da placa de patrim\xF4nio"),a(),g(29,"img",2),a(),g(30,"br"),s(31,"div",1)(32,"strong"),c(33,"Fotos do bem"),a(),w(34,Nn,4,1,"div",3),a(),s(35,"button",4),u("click",function(){p(i);let r=m();return f(r.updateAsset())}),c(36,"Atualizar bem"),a(),s(37,"button",5),u("click",function(){p(i);let r=m();return f(r.deleteAsset())}),c(38,"Remover bem"),a()()}if(n&2){let i=m();l(4),I(i.asset.assetNumber),l(4),I(i.asset.description),l(4),I(i.asset.responsible),l(4),I(i.asset.conservationState),l(4),I(i.asset.situation),l(4),I(i.asset.place),l(5),d("src",i.asset.mainImage,F),l(5),d("ngForOf",i.asset.images)}}var wi=(()=>{let e=class e{constructor(){this.backendService=_(k),this.utilsService=_(P),this.router=_(D),this.route=_(Y),this.fileId=parseInt(this.route.snapshot.paramMap.get("file_id")||"0"),this.assetId=parseInt(this.route.snapshot.paramMap.get("asset_id")||"0"),this.updateInfo()}updateInfo(){this.backendService.getAssetsByFileId(this.fileId).subscribe({next:t=>{console.log("Got assets by fileId:",t),this.asset=t.find(r=>r.id===this.assetId)},error:t=>{console.error(t.message)}})}deleteImage(t){console.log("Delete image: ",t);let r=t.substring(t.lastIndexOf("/")+1);this.backendService.deleteImage(r).subscribe({next:o=>{console.log("Deleted image"),this.updateInfo()},error:o=>{console.error(o.message)}})}deleteAsset(){console.log("Delete asset"),this.backendService.deleteAsset(this.assetId).subscribe({next:t=>{console.log("Deleted asset"),this.router.navigate([`/info/${this.fileId}`])},error:t=>{console.error(t.message)}})}updateAsset(){console.log("Update asset");let t={id:this.asset?.id,fileId:this.fileId,description:this.asset?.description||"",responsible:this.asset?.responsible||"",assetNumber:this.asset?.assetNumber||"",mainImage:this.asset?.mainImage||"",images:this.asset?.images||[]};this.router.navigate(["/generate"],{state:{data:t}})}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=C({type:e,selectors:[["app-asset-info"]],standalone:!0,features:[b],decls:6,vars:1,consts:[[4,"ngIf"],[2,"display","flex","flex-direction","column"],["alt","Imagem principal do bem","width","60%",3,"src"],[4,"ngFor","ngForOf"],["type","button",1,"primary",3,"click"],["type","button",1,"delete",3,"click"],["type","button",1,"actionBtn",3,"click"]],template:function(r,o){r&1&&(g(0,"app-header"),s(1,"main")(2,"h1"),c(3,"Confira os dados do bem"),a(),w(4,Tn,39,8,"section",0),a(),g(5,"app-footer")),r&2&&(l(4),d("ngIf",!!o.asset))},dependencies:[S,Q,x,te,ie],styles:["main[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;padding-top:82px;padding-bottom:64px;min-height:calc(100vh - 160px)}@media (max-width:768px){main[_ngcontent-%COMP%]{padding-bottom:136px;min-height:calc(100vh - 72px)}}"]});let n=e;return n})();var Si=(()=>{let e=class e{constructor(){}isTokenExpired(){let t=localStorage.getItem("tokenExpiresAt");return Date.now()>parseInt(t||"0")}isAuthenticated(){return!this.isTokenExpired()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var L=(n,e)=>{let i=_(D);return _(Si).isAuthenticated()?!0:(i.navigate(["login"]),!1)};var Ii=[{path:"",component:Me,canActivate:[L]},{path:"login",component:vi},{path:"sign-up",component:yi},{path:"generate",component:bi,canActivate:[L]},{path:"info/:id",component:Ai,canActivate:[L]},{path:"info/:file_id/asset/:asset_id",component:wi,canActivate:[L]},{path:"details",component:Me,canActivate:[L]},{path:"search",component:Me,canActivate:[L]}];function Vi(n,e){if(n.url.includes("/auth"))return e(n);let i=localStorage.getItem("token");if(i&&i!==""){let t=n.clone({setHeaders:{Authorization:`Bearer ${i}`}});return e(t)}else return e(n)}function xi(n,e){return e(n).pipe(tt(i=>{let t=di;return i instanceof At&&(i.status===401&&(t=Qe,console.log(Qe)),i.error&&i.error.detail&&(t=i.error.detail),i.status===403&&(t=Ve),i.status===404&&(t=ci)),Ze(()=>new Error(t))}))}var Di={providers:[gt({eventCoalescing:!0}),Ot(Ii),Dt(),St(It([Vi,xi]),Vt())]};var kn={providers:[Mt()]},Mi=yt(Di,kn);var Pn=()=>xt(Tt,Mi),Us=Pn;export{Us as a};
